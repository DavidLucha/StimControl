% STIMCONTROL PROTOCOL FILES
%   For a full description of how to use protocol files, read the StimControl wiki:
%           https://github.com/WhitmireLab/StimControl/wiki/Protocols
% 
%   A protocol file has 3 sections, separated by a tilde (~) on a newline: 
%       General protocol parameters
%       Trial information
%       Stimulus definitions
% 
% GENERAL PROTOCOL PARAMETERS
%       nProtRunsX 	    number of times the protocol runs (including the first).
%                          Defaults to 1
%       RandomiseX 	    how to randomise trials (X=0/1/2/3)
%       dPauseX 	    time (seconds) between trials in the protocol
%       nTrialRunsX 	(optional) change the default number of times each stimulus 
%                          is run for each protocol
%       tPreX 	        (optional) change the default time to record before starting stimuli 
%                          for each protocol
%       tPostX 	        (optional) change the default time to record after the first stimulus 
%                          for each protocol
% 
% TRIAL INFORMATION
%   A trial is made of stimulus blocks, which are separated using brackets.
%   Each line in this section is a trial.
%   Once per trial, you can define the following:
%       nTrialRunsX     the number of times this trial is run per protocol
%   
%   Each stimulus block can have the following keywords defined:
%       repDelXXXX 	    Delay between repeats in ms. Default 0.
%       startDelXXXX 	Start delay from stimulus t=0 in ms
%       nStimsX 	    Number of times the stimulus / stim block is run within a trial. 
%                           Default 1. -1 will make the stimulus repeat until the end of tPost.
% 
%   Stimulus blocks can also contain stimulus calls, which are named according to their:
%   stimulus type   (compulsory, string, should match the labels in the computer's protocol map)
%   sub-identifier  (optional, char, a single capital letter to target individual devices), and 
%   stim index      (optional, int, used to separate sections)
% 
%   Stimulus calls can be chained together using the following operators:
%       A B         runs stimulus A and stimulus B with the same start time
%       A>B         chains stimulus calls, instead of running them concurrently
%       oddX[A,B]   swaps out A for B every X occurrences. 
%       oddX-Y[A,B] swaps out A for B after every Z occurrences, where 
%                       Z is a random int betyween X and Y inclusive, and is re-selected
%                       after every occurrence of B
%       oddX[A,B>C] swaps out A for (B or C) every X occurrences, iterating between B and C
%       oddX[A,B|C] swaps out A for rand(B or C) every X occurrences
% 
% STIMULUS DEFINITIONS
%   Stimulus are defined according to their type. Definitions take the format
%       StimulusName(type): param1 param2 param3 
%           or, to target multiple kinds of hardware:
%       StimulusName1 & StimulusName2(type): param1 param2 param3 

Randomise1 dPause30 nTrialRuns2 tPre1000 tPost4000
~
nTrialRuns3 LEDBlue1 LEDGreen1 VibrationA1 VibrationB ThermodeA1 ThermodeB1 @[Analog3(Sine): Amp5 Freq100]
Thermode1 LEDGreen1 Analog1
Analog2 Thermode2
~
ThermodeA1(serial):
ThermodeB1(serial):
LEDBlue1(Trigger):
LEDGreen1(PWM):
VibrationA1(PWM):
VibrationB(Digital):
Analog3(AnalogSine): 
Analog1(AnalogPulse): 
Analog2(AnalogNoise): 
Thermode2 & Thermode1(serial): 